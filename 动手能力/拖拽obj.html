<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<style>
    #box,
    #box2 {
        width: 100px;
        height: 100px;
        background-color: red;
        position: absolute;
        left: 0;
        top: 0;
    }

    #box2 {
        left: 120px;
        background-color: blue
    }
</style>


<body>
    <div id="box"></div>
    <div id="box2"></div>
</body>
<script>
    // var box = document.getElementById('box');
    // var oX=null;
    // var oY=null;
    // box.onmousedown = down;
    // function down(ev) {
    //     oX = ev.clientX - this.offsetLeft;
    //     oY = ev.clientY - this.offsetTop;
    //     document.onmousemove = move;
    //     document.onmouseup = moveUp;
    //     return false;
    // }
    // function move(ev) {
    //     box.style.left = ev.clientX - oX + 'PX';
    //     box.style.top = ev.clientY - oY + 'PX';
    // }
    // function moveUp() {
    //     document.onmousemove = null;
    //     document.onmouseup = null;
    // }


    function moveTo() {
        this.oX = null;
        this.oY = null;
        this.obx = null;
        this.setting={  //默认
            toTitle:function(){},
            upTitle:function(){}
        }
    }
    moveTo.prototype.init = function (options) {
        this.obx = document.getElementById(options.id);
        var This = this;
        extend(this.setting,options)
        this.obx.onmousedown = function (ev) {
            This.down(ev);
            This.setting.toTitle();
            return false;
        };

    }

    moveTo.prototype.down = function (ev) {
        var This = this;
        this.oX = ev.clientX - this.obx.offsetLeft;
        this.oY = ev.clientY - this.obx.offsetTop;
        document.onmousemove = function (ev) {
            This.move(ev);
            
        };
        document.onmouseup = function(){
            This.setting.upTitle();
            This.moveUp(ev);
        };

    }
    moveTo.prototype.move = function (ev) {
        this.obx.style.left = ev.clientX - this.oX + 'PX';
        this.obx.style.top = ev.clientY - this.oY + 'PX';
    }
    moveTo.prototype.moveUp = function () {
        var This=this;
        document.onmousemove = null;
        document.onmouseup = null;
       
    }

    window.onload = function () {
        var moveStart = new moveTo();
        // moveStart.init('box');
        moveStart.init({   //配置参数
            id:'box',
            upTitle:function(){
                document.title = "抬起来";
            }

        })

        var moveStart2 = new moveTo();
        // moveStart2.init('box2', function () {
        //     document.title = "hello";
        // });

        moveStart2.init({   //配置参数
            id:'box2',
            toTitle:function(){
                document.title = "hello111";
            }

        })
    };

    function extend(obj1, obj2) {
        for (var attr in obj2) {
            obj1[attr] = obj2[attr]
        }
    }
    // var a = {
    //     //name: '小明'
    // }
    // var b = {
    //     name: '小小'
    // }
    // extend(b, a);
    // alert(b.name);//小明



</script>

</html>
<script>

























</script>